(()=>{"use strict";var e;function a(){gsap.to("#hero",{display:"none",opacity:0,duration:.3,onComplete:()=>{gsap.to("#collaborators",{display:"block",opacity:1,duration:.2})}})}document.getElementById("phone")?.addEventListener("input",mask_phone),document.getElementById("cnpj")?.addEventListener("input",mask_cnpj),document.getElementById("form-budget-step-1").addEventListener("submit",e=>{e.preventDefault();var t,e=e["currentTarget"];e.checkValidity()&&(e=new FormData(e),e=e.get("email"),(t=new URL(window.location.href)).searchParams.set("email",e),window.history.replaceState({},"",t),a())}),document.getElementById("form-budget-step-2").addEventListener("submit",e=>{e.preventDefault();e=e.currentTarget;if(e.checkValidity()){var e=new FormData(e),t=window.location.href,t={email:new URL(t).searchParams.get("email"),full_name:e.get("full-name"),phone:e.get("phone").replace(/\D/g,""),cnpj:e.get("cnpj"),num_workers:Number(e.get("num_workers"))};const a=document.getElementById("send_quotation");a.setAttribute("disabled","disabled"),a.innerText="Enviando...",fetch("https://4120qp8ra6.execute-api.us-east-1.amazonaws.com/prod/pill-pass",{method:"POST",body:JSON.stringify(t)}).then(async e=>{e=e.status;if(200!=e)throw new Error("Error ao enviar o formulÃ¡rio.");e="modal-success";e=document.getElementById(e),(e=new bootstrap.Modal(e)).show(),a.removeAttribute("disabled"),a.innerText="Enviar"}).catch(e=>{console.log({erro:e}),a.removeAttribute("disabled"),a.innerText="Enviar",gsap.to("#alert-error-form",{display:"block",opacity:1})})}}),e=window.location.href,(new URL(e).searchParams.get("email")??"")&&a()})();